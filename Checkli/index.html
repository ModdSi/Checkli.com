<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkli</title>
    <link rel="stylesheet" href="style.css">



    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>
    <header>
       <div class="navbar" >
            <a onclick="alert('Soon!')" id="signn">sign</a>        
           <a  id="todoo" > To-Do's</a>
           <a  id="homee" class="active">Home</a>
    </div>
    <div class="logo">
        <a >Checkli</a>
    </div>
    </header>

   
<!-- home page -->
    <div id="mainp" class="main-page">

        <h1>Welcome,</h1>
        <h3 style="font-weight: 400;">Stay organized and on top of your tasks with our easy-to-use To-Do List platform.<br>
             Whether you have a busy schedule, a project to manage, or simple daily tasks to remember,<br>
              our website is here to assist you every step of the way.</h3>

              <h1 style="margin-top: 70px;">Checkli</h1>
              <h3 style="font-weight: 400;">Let you Create, edit, and prioritize tasks effortlessly.<br> With intuitive features and a user-friendly interface</h3>

    </div>

<!-- home page end -->
<div  >

<!-- tasks -->
<div  style="color: rgb(121, 121, 121); margin-top: 300px; font-size: 10px; text-align: center; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">
    <h1 >My Tasks</h1>



</div>


<div id="s1" class="tasks">

    

   

</div>
</div>


<!-- tasks end -->



    <div class="To-Do" >
       
    <div class="container" style="display: flex;">
      
        <input id="type" style="margin-left: auto; margin-right: auto; " type="text" placeholder="                                  Add Task">
             <div class="ss">
                 <button  id="sub" class="submit" style=" margin-right: 10px;"> + </button>
                 
              </div>
    </div>

    </div>



<!--//////////// popout /////////////// -->

    <div id="myModal" class="modal">
        <div class="modal-content">
            <span onclick="closeModal()" style="float: right; cursor: pointer; ">&times;</span>
            <h2 style="text-align: center; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">Edit Task</h2>
           <div class="sinput"  style="text-align: center;"> 
                <input id="editType"   type="text" style="width: 300px;border-radius: 10px;font-size: 20px ;padding: 10px; height: 20px;">
                <div class="editbut" style="margin-top: 20px;">
                <button id="newsub" style="border: none; padding: 6px; border-radius: 5px; font-size: 15px;" >Done</button>
            </div>

           </div>
        </div>
    </div>

<!-- ////////////////////////////// -->





    </footer>
     

     <footer class="bg-white">
       
    
        <!-- Copyrights -->
        <div class="bg-light py-4">
          <div class="container text-center">
            <p class="text-muted mb-0 py-2">Â© 2023 Muhammad Si </p>
          </div>
        </div>
      </footer>
</body>


<!-- script -->



<script>


document.getElementById("type").addEventListener("keydown", function(event) {
    if (event.key === "Enter") {
        event.preventDefault(); // Prevent the default Enter key behavior (form submission)
        document.getElementById("sub").click();}
    });
   


    document.getElementById("editType").addEventListener("keydown", function(event) {
    if (event.key === "Enter") {
        event.preventDefault(); // Prevent the default Enter key behavior (form submission)
        document.getElementById("newsub").click();}
    });    


        var jasm=[


        ]

        jasm=JSON.parse(localStorage.getItem("tasks"))
    
    

var index=0

///////// add   /////////
       
    document.getElementById("sub").addEventListener("click",function(){
        

        
        
        var stringToAdd=document.getElementById("type").value
        var newobject={
            title: stringToAdd,
            isDone: false
        }
        jasm.push(newobject)


        
        
        
        
        
        
        
        index++
        localsave()
    fillThePage()
    resetInput()

    window.scroll({
    top: window.scrollY + 50, // Adjust the value as needed
    behavior: 'smooth'
  });
    
  

    })

///////////      delete    //////////


function deletetask(index) {
    console.log("Deleting task at index:", index);
    jasm.splice(index, 1); // Use splice to remove the task at the specified index
   localsave()
    fillThePage();


    window.scroll({
    top: window.scrollY - 50, // Adjust the value as needed
    behavior: 'smooth'
  });

   }
   
   /////////  edit    /////////////
   document.getElementById("newsub").addEventListener("click", function () {
    var editedTitle = document.getElementById("editType").value; // Get the edited title
    if (editedTitle.trim() !== "") {
        jasm[index].title = editedTitle; // Update the task title in the array
       localsave()
        fillThePage(); // Update the page with the edited task
        closeModal(); // Close the modal
    }
});

function editTask(index) {
    
    openModal(); // Open the modal
    document.getElementById("editType").value = jasm[index].title; // Populate the modal input with the current task title
    this.index = index; // Store the index of the task being edited

}
   //////////////   done    /////////////////

    function checkBox(index){

        if(jasm[index].isDone==true)
        {
            jasm[index].isDone=false

        }

        else{

            jasm[index].isDone=true;

           
    }

   localsave()
   

    fillThePage()


    }

/////////////     scroll      //////////

document.getElementById("todoo").addEventListener("click",function(){

    window.scroll({
    top: window.scrollY + 600, // Adjust the value as needed
    behavior: 'smooth'
  });



})


   //////////////////////////////// 

   function openModal() {
            var modal = document.getElementById("myModal");
            modal.style.display = "block";
           
        }

        function closeModal() {
            var modal = document.getElementById("myModal");
            modal.style.display = "none";
        }
   


   /////////////////////


   function localsave()
   {
         var taskstring =JSON.stringify(jasm)
         localStorage.setItem("tasks",taskstring)

   }



   ///////////////////



   function fillThePage() {
    var content = ""; // Initialize an empty string

    for (var task of jasm) {
        content += `
            <div  class="task">
                <div id="tsk" class="bg ${task.isDone? 'done':''}" style="display: flex;"> 
                    <div class="info">
                        <h3>${task.title}</h3>
                    </div>

                    <div class="action">
                        <button onclick="checkBox(${jasm.indexOf(task)})" class="circ">
                            <span class="material-symbols-outlined">${task.isDone? 'close':'done'}</span>
                        </button>
                        <button onclick="deletetask(${jasm.indexOf(task)})" class="circ">
                            <span class="material-symbols-outlined">delete</span>
                        </button>
                        <button onclick="editTask(${jasm.indexOf(task)})" class="circ">
                            <span  class="material-symbols-outlined">edit</span>
                        </button>
                    </div>
                </div>
            </div>
        `;
    }

    document.getElementById("s1").innerHTML = content; // Set the innerHTML after the loop
}









////////reset input box//////////

 function resetInput() {
            document.getElementById("type").value = "";
        }


      /////////////

      fillThePage()


</script>
</html>